function w(l){let e=document.createElement("template");return e.innerHTML=l,e}function S(l){return l.content.cloneNode(!0)}function v(l,e){let t=l,s=0,n=e.length,a,r;for(;s<n;s++)for(a=e[s],t=t.firstChild,r=0;r<a;r++)t=t.nextSibling;return t}function O(l,e,t){if(l.replaceWith(e),t){let s=l.childNodes,n=s.length;for(;n--;)e.appendChild(s[0])}}function L(l,e){l.append(e)}function I(l,e){l.after(e)}function le(l,e){let t=l;if(e.nextSibling!==l)for(;t;){let s=t;if(t=t.nextSibling,s.remove(),s===e)break}}function se(l,e,t){l.setAttribute(e,t)}function Y(l,e,t){l.classList.toggle(e,t)}function Z(l,e,t){l.style.setProperty(e,t)}var J=Object,xe=Symbol,we=/\B([A-Z])/g;function ue(l){return l.replace(we,"-$1").toLowerCase()}var fe=J.is,Se=J.assign,q=l=>typeof l=="function";var u,z=1<<0,K=1<<1,ee=1<<2,Ge=1<<3,pe=1<<4,V=1<<5,b,d,M,P=0,te=0,$e=0;function ne(){P++}function ae(){if(P>1){P--;return}let l,e=!1;for(;M;){let t=M;for(M=u,te++;t;){let s=t.o;t.o=u,t.c&=~ee;try{t.s()}catch(n){e||(l=n,e=!0)}t=s}}if(te=0,P--,e)throw l}function ke(l){let e;if(d)if(e=l.j,!e||e.p!==d)e={d:0,c:0,l:u,g:l,e:d.b,h:u,p:d,i:u,m:u},d.b=e,l.j=e,d.c&pe&&l.n(e);else if(e.c&K){e.c&=~K;let t=d.b,s=e.h,n=e.e;e!==t&&(s&&(s.e=n),n&&(n.h=s),t&&(t.h=e),e.h=u,e.e=t,d.b=e)}else e=u;try{return l.peek()}finally{e&&(e.d=l.d)}}function Ee(l){for(let e=l.b;e;e=e.e){let t=e.g.j;t&&(e.l=t),e.g.j=e,e.c|=K}}function Ce(l){let e=l.b,t;for(;e;){let s=e.e;e.c&K?(e.g.k(e),e.e=u):(t&&(t.h=e),e.h=u,e.e=t,t=e),e.g.j=e.l,e.l&&(e.l=u),e=s}l.b=t}function Oe(l){let e=this;Ce(e),d=l,ae(),e.c&=~z}var C=class{constructor(e){let t=this;t.d=0,t.a=e,t.j=u,t.f=u}n(e){let t=this;e.c&V||(e.c|=V,e.i=t.f,t.f&&(t.f.m=e),t.f=e)}k(e){let t=this,s=e.m,n=e.i;e.c&V&&(e.c&=~V,s&&(s.i=n,e.m=u),n&&(n.m=s,e.i=u),e===t.f&&(t.f=n))}subscribe(e){return i(()=>e(this.value))}set(e){return this.value=e}peek(){return this.a}get value(){return ke(this)}set value(e){let t=this;if(e!==t.a){if(t.a=e,te>100)return;t.d++,$e++,ne();try{for(let s=t.f;s;s=s.i)s.p.q()}finally{ae()}}}};var Q=class{constructor(e){this.r=e,this.b=u,this.o=u,this.c=pe}s(){let e=this;if(e.c&z)return;let t=e.u();try{e.r()}finally{t()}}u(){let e=this,t=d;return e.c|=z,ne(),d=e,Ee(e),Oe.bind(e,t)}q(){let e=this;e.c&(ee|z)||(e.c|=ee,e.o=M,M=e)}v(){let e=this;for(let t=e.b;t;t=t.e)t.g.k(t);e.b=u}},T=class{constructor(e){let t=this;t.scopes=[],t.cleanups=[],t.parent=b,!e&&b&&b.scopes.push(t)}run(e){let t=b;try{return b=this,e()}finally{b=t}}clear(){let e=this,t=e.scopes,s=e.cleanups;for(let n of t)n.clear(),n.parent=u;for(let n of s)n();t.length=0,s.length=0}};function A(l){return new T(l)}function N(l){q(l)&&b&&b.cleanups.push(l)}function D(l){if(P>0)return l();ne();try{return l()}finally{ae()}}function h(l){return new C(l)}function i(l){let e=new Q(l),t=e.v.bind(e);return e.s(),N(t),t}var Le=!1,Ae=1;var E=null,re=xe(),W=class extends HTMLElement{$m=!1;$c=A(!0);$p={};$h=[];constructor(){super();let e=this,t=e.$p,s=e.constructor.$d;for(let n in s){let a=s[n];t[a]=h(re)}}connectedCallback(){let e=this;if(!e.$m){e.$m=!0;let t=e.constructor.$c,s=e.constructor.$s,n=e.$c,a=e.$h,r=e.shadowRoot,o=!1;r||(r=e.attachShadow({mode:"open"}),o=!0);let f=E;try{if(E=e,n.run(()=>t(r,e)),document.adoptedStyleSheets)o&&(r.adoptedStyleSheets=s);else for(let c of s)L(r,c.cloneNode(!0));for(let c of a){let p=c();q(p)&&n.cleanups.push(p)}a.length=0}finally{E=f}}}disconnectedCallback(){let e=this;e.$m&&(e.$c.clear(),e.shadowRoot.innerHTML="",e.$m=!1)}attributeChangedCallback(e,t,s){let n=this,a=n.constructor.$d;e in a&&(n.$p[a[e]].value=s===""?!0:s)}};function H(l,e,t,s){let n=[],a=J.create(null);class r extends W{static observedAttributes=n;static $c=e;static $a=a;static $d=t;static $s=s}for(let o in t){let f=t[o],c=ue(o);a[c]=o,n.push(c),J.defineProperty(r.prototype,o,{get(){return this.$p[f].a},set(p){this.$p[f].value=p}})}return Le&&(l="velvet-"+Ae++),l&&customElements.define(l,r),r}function $(l,e){let t=E.$p[l];return t.value===re&&(t.value=q(e)?e():e),t}function X(l){q(l)&&E.$h.push(l)}function ie(l,e){let t=document.createTextNode("");O(l,t),i(()=>t.data=e())}function he(l,e){let t=A(),s,n;i(()=>{let a=e();a!==s&&(n&&(t.clear(),ve(l,n),n=null),s=a,a&&(n=t.run(()=>a(l))))})}function de(l,e,t){let s=[];i(()=>{let n=t(),a=0,r=n.length,o=s.length;for(;a<r;a++)if(s[a]){let f=s[a][2];f.value=n[a]}else{let f=s[a-1],c=f?f[1]:l,p=h(n[a]),g=A(!0);s[a]=[g,g.run(()=>e(c,p,a)),p]}if(o>r){let f=s[a-1],c=f?f[1]:l,p=s[o-1][1];for(;a<o;a++)s[a][0].clear();ve(c,p),s.length=r}}),N(()=>{for(let n of s)n[0].clear()})}function ve(l,e){le(l.nextSibling,e)}var Ie=w("<div> <!> </div>"),qe=w("<span class=label> <!>, <!> </span>");function De(l,e){let t=$(0,!1),s=$(1,0),n=$(2,0),a=$(3,!1),r=$(4,()=>{}),o=S(Ie),f=v(o,[0,1]),c=v(o,[0]),p=g=>{let y=S(qe),U=v(y,[0,1]),F=v(y,[0,3]),R=v(y,[0]);return ie(U,()=>s.value),ie(F,()=>n.value),I(g,y),R};he(f,()=>t.value?p:null),se(c,"class","cursor"),i(()=>Y(c,"big",a.value)),i(()=>Y(c,"label",t.value)),i(()=>Z(c,"border-color",r.value)),i(()=>Z(c,"transform",`translate(${s.value}px, ${n.value}px) scale(${a.value?2:1})`)),L(l,o)}var B=H("x-cursor",De,{label:0,x:1,y:2,big:3,color:4},[]);var He=w("<div class=main> <x></x> <!> </div>"),Be=w("<x></x>");function Ue(l,e){let n=h(0),a=h(0),r=h(!1),o=h(0),f=h(!1),c=h([]);i(()=>{let m=500+Math.round(Math.sin(o.value/90*2*Math.PI)*500*.5),k=[];for(let x=m;x--;){let _=x/m*6,G=_*2*Math.PI,ce=20+x*2,ye=(_*255+o.value*10)%255;k[x]={color:`hsl(${ye}, 100%, 50%)`,x:n.value+Math.sin(G)*ce|0,y:a.value+Math.cos(G)*ce|0}}c.value=k});let p={timeout:!1,x:0,y:0};function g(m){p.x=m.x,p.y=m.y,p.timeout||(p.timeout=!0,requestAnimationFrame(()=>D(()=>{p.timeout=!1,n.value=m.x,a.value=m.y})))}function y(){r.value=!0}function U(m){r.value=!1}function F(){f.value||(o.value++,requestAnimationFrame(F))}X(()=>(window.addEventListener("pointermove",g),window.addEventListener("pointerdown",y),window.addEventListener("pointerup",U),requestAnimationFrame(F),()=>{window.removeEventListener("pointermove",g),window.removeEventListener("pointerdown",y),window.removeEventListener("pointerup",U),f.value=!0}));let R=S(He),j=new B,_e=v(R,[0,1]),be=v(R,[0,3]),ge=(m,k)=>{let x=S(Be),_=new B,G=v(x,[0]);return i(()=>_.color=k.value.color),i(()=>_.x=k.value.x),i(()=>_.y=k.value.y),i(()=>_.big=r.value),O(G,_,!0),I(m,x),_};e:j.label=!0;i(()=>j.x=n.value),i(()=>j.y=a.value),i(()=>j.big=r.value),O(_e,j,!0),de(be,ge,()=>c.value),L(l,R)}var oe=H("x-spiral",Ue,{},[]);me(oe);me(B);var Fe=new oe;document.body.appendChild(Fe);function me(l){l.prototype.attachShadow=function(){return this.shadowRoot||Object.defineProperty(this,"shadowRoot",{value:this}),this}}
//# sourceMappingURL=app.js.map
